import{j as e,r as g,a as A}from"./react-d84e5e68.js";import{c as R}from"./react-dom-8b7ac5e7.js";import{H as T}from"./react-router-dom-c468db3a.js";import"./firebase-36553ef7.js";import{i as U,g as _,s as M,c as O}from"./@firebase-7dbc1d44.js";import{i as C}from"./i18next-81a9e9b1.js";import{i as $,u as d}from"./react-i18next-30f3ddb2.js";import{u as j,a as W,b as D,c as N}from"./react-router-1b3d7f17.js";import{B as u,S as q,C as I,a as y,A as z,n as h,b,L as V,u as B,F,T as H,P as G,c as Q,M as Z,N as K}from"./@mantine-db5b2ac1.js";import{u as w}from"./react-firebase-hooks-7c3c1dd0.js";import{v as J}from"./uuid-cf522c50.js";import"./fast-deep-equal-4802929f.js";import"./scheduler-765c72db.js";import"./@remix-run-073e1ff6.js";import"./idb-81bdbf9b.js";import"./@babel-8f34527c.js";import"./clsx-de421188.js";import"./@emotion-b857b527.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./stylis-79144faa.js";import"./react-transition-group-5a3e3d43.js";import"./klona-192252da.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();U({apiKey:"AIzaSyB_5MCwcB7MJute_P3TZYHaMOH17CrmrIc"});const Y=({children:t})=>e.jsx(e.Fragment,{children:t}),X={team:"Team",checkAuth:"Check auth...",mainTitle:"Main page",mainInfo:"Section - editor, variables, headers (for query), documentation, response",welcomeTitle:"Welcome page",welcomeInfo:"Developers, project, course",goMain:"Go to Main page",goWelcome:"Go to Welcome page",labelSignIn:"Sigh In",labelSignUp:"Sign Up",labelSignOut:"Sigh Out",labelEmail:"Email",labelPassword:"Password",errorInvalidEmail:"Invalid email",errorInvalidPassword:"Invalid password, must be 8-20 symbols, at least one letter, one digit, one special character",pageNotFound:"Page not found",footerTitle:"Footer",footerInfo:"Link to authors github, app year, course logo with link to the course",userCreate:"User create & login",userLogin:"User login",userLogout:"User logout",errorFirebaseAuth:"Firebase auth error",errorFetch:"Fetch error",titleDoc:"Documentation",titleQuery:"Query",titleResponse:"Response",titleVar:"Variables"},ee={team:"Команда",checkAuth:"Проверка авторизации...",mainTitle:"Главная страница",mainInfo:"Секции - редактор, переменные, заголовки (для запроса), документация, ответ",welcomeTitle:"Страница приветствия",welcomeInfo:"Разработчики, проект, курс",goMain:"Перейти на Главную страницу",goWelcome:"Перейти на страницу приветствия",labelSignIn:"Вход",labelSignUp:"Регистрация",labelSignOut:"Выход",labelEmail:"Адрес электронной почты",labelPassword:"Пароль",errorInvalidEmail:"Некорректный адрес электронной почты",errorInvalidPassword:"Пароль должен состоять из 8-20 символов, влючать хотя бы одну букву, одну цифру, один спец.символ",pageNotFound:"Страница не найдена",footerTitle:"Контакты",footerInfo:"Ссылки на репо авторов, год публикации приложения, лого курса со ссылкой на него",userCreate:"Пользователь зарегистрирован",userLogin:"Вход пользователя",userLogout:"Выход пользователя",errorFirebaseAuth:"Ошибка аутентификации Firebase",errorFetch:"Ошибка получения данных",titleDoc:"Документация",titleQuery:"Запрос",titleResponse:"Ответ",titleVar:"Переменные"};C.use($).init({lng:"en",debug:!1,resources:{en:{translation:X},ru:{translation:ee}}});function te(){const{t}=d(),r=j(),o=()=>{r("/")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"not_found",children:[e.jsx("h1",{children:t("pageNotFound")}),e.jsx(u,{onClick:o,children:t("goWelcome")})]})})}function f(){const t=new Date;return""+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()}function ne(){const[t,r]=g.useState("en"),{i18n:o}=d(),i=()=>{t=="en"?(r("ru"),o.changeLanguage("ru")):(r("en"),o.changeLanguage("en"))},n="#228be6";return e.jsx(e.Fragment,{children:e.jsx(q,{value:t,onChange:i,data:[{value:"en",label:e.jsx(I,{children:e.jsx(y,{sx:{color:t=="en"?n:""},children:"En"})})},{value:"ru",label:e.jsx(I,{children:e.jsx(y,{sx:{color:t=="ru"?n:""},children:"Рус"})})}]})})}const se=""+new URL("logo-dcab8614.svg",import.meta.url).href;function re(){const{t}=d(),r=j(),o=W(),i=_(),[n,s]=w(i),l=()=>{r("/auth")},x=()=>{const m=n==null?void 0:n.email;i.signOut().then(()=>{h.show({title:t("userLogout"),message:f()+" - "+m,autoClose:!0,color:"green"}),r("/auth")})},c=()=>{r("/")},a=!n&&!s;return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"header_app",children:[e.jsxs("h2",{children:[e.jsx("img",{className:"header_logo",src:se,alt:"Project logo"}),"GraphiQL - ",t("team")," #6"]}),e.jsxs("div",{className:"header_buttons",children:[e.jsx(ne,{}),a&&o.pathname!="/auth"&&e.jsxs(u,{onClick:l,className:"header_sign_button",children:[t("labelSignIn")," / ",t("labelSignUp")]}),a&&o.pathname=="/auth"&&e.jsx(u,{onClick:c,className:"header_sign_button",children:t("goWelcome")}),n&&!s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header_user",children:[e.jsx(z,{radius:"xl"}),e.jsx("div",{children:n.email})]}),e.jsx(u,{onClick:x,className:"header_sign_button",children:t("labelSignOut")})]})]})]})})}function oe(){const{t}=d();return e.jsx(e.Fragment,{children:e.jsxs("footer",{className:"footer_app",children:[e.jsx("h2",{children:t("footerTitle")}),e.jsx("p",{children:t("footerInfo")})]})})}function ae(){const{t}=d();return e.jsxs(e.Fragment,{children:[e.jsx("textarea",{className:"textarea_query "}),e.jsx(b,{defaultValue:"customization",transitionDuration:500,children:e.jsxs(b.Item,{value:"customization",children:[e.jsx(b.Control,{children:e.jsx("b",{children:t("titleVar")})}),e.jsx(b.Panel,{children:e.jsx("textarea",{className:"textarea"})})]})})]})}const S=({children:t})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"loader",children:[e.jsx(V,{size:"xl",variant:"dots"}),t&&e.jsx("h4",{children:t})]})}),ie="modulepreload",le=function(t,r){return new URL(t,r).href},P={},E=function(r,o,i){if(!o||o.length===0)return r();const n=document.getElementsByTagName("link");return Promise.all(o.map(s=>{if(s=le(s,i),s in P)return;P[s]=!0;const l=s.endsWith(".css"),x=l?'[rel="stylesheet"]':"";if(!!i)for(let m=n.length-1;m>=0;m--){const v=n[m];if(v.href===s&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${x}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":ie,l||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),l)return new Promise((m,v)=>{a.addEventListener("load",m),a.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>r())};const ce=A.lazy(()=>E(()=>import("./DocumentationPanel-b1ef537c.js"),["./DocumentationPanel-b1ef537c.js","./react-d84e5e68.js","./fast-deep-equal-4802929f.js","./react18-json-view-23fa606a.js","./react18-json-view-af63fc84.css","./rickAndMorty-9fbbdd97.js","./react-i18next-30f3ddb2.js","./@babel-8f34527c.js","./@mantine-db5b2ac1.js","./react-dom-8b7ac5e7.js","./scheduler-765c72db.js","./clsx-de421188.js","./@emotion-b857b527.js","./hoist-non-react-statics-23d96a9a.js","./react-is-e8e5dbb3.js","./stylis-79144faa.js","./react-transition-group-5a3e3d43.js","./klona-192252da.js","./react-router-dom-c468db3a.js","./react-router-1b3d7f17.js","./@remix-run-073e1ff6.js","./firebase-36553ef7.js","./@firebase-7dbc1d44.js","./idb-81bdbf9b.js","./i18next-81a9e9b1.js","./react-firebase-hooks-7c3c1dd0.js","./uuid-cf522c50.js"],import.meta.url));function ue(){return e.jsx(e.Fragment,{children:e.jsx(g.Suspense,{fallback:e.jsx(S,{children:"Docs loading..."}),children:e.jsx(ce,{})})})}const de=A.lazy(()=>E(()=>import("./ResponsePanel-52615013.js"),["./ResponsePanel-52615013.js","./react-d84e5e68.js","./fast-deep-equal-4802929f.js","./react18-json-view-23fa606a.js","./react18-json-view-af63fc84.css","./rickAndMorty-9fbbdd97.js"],import.meta.url));function me(t){return e.jsx(e.Fragment,{children:e.jsx(g.Suspense,{fallback:e.jsx(S,{children:"Loading..."}),children:e.jsx(de,{query:t.query})})})}function he(){const{t}=d(),r=j(),o=_(),[i,n]=w(o),s="{}";return g.useEffect(()=>{!i&&!n&&r("/",{replace:!0})}),n?e.jsx(S,{children:t("checkAuth")}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"main",children:[e.jsxs("div",{className:"main_docs",children:[e.jsx("div",{className:"main_header",children:e.jsx("div",{className:"main_title",children:t("titleDoc")})}),e.jsx(ue,{})]}),e.jsxs("div",{className:"main_request",children:[e.jsx("div",{className:"main_query",children:e.jsxs("div",{className:"main_header",children:[e.jsx("div",{className:"main_title",children:t("titleQuery")}),e.jsx(u,{children:"Run"})]})}),e.jsx(ae,{})]}),e.jsxs("div",{className:"main_response",children:[e.jsx("div",{className:"main_header",children:e.jsx("div",{className:"main_title",children:t("titleResponse")})}),e.jsx(me,{query:s})]})]})})}function ge(){const{t}=d(),r=j(),o=_(),[i,n]=w(o),s=()=>{r("/main")};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"welcome",children:[e.jsx("h1",{children:t("welcomeTitle")}),e.jsx("p",{children:t("welcomeInfo")}),i&&!n&&e.jsx(u,{onClick:s,children:t("goMain")})]})})}const k=new Map;function p(t,r,o){k.set(t,{en:r,ru:o})}function L(t){const r=C.resolvedLanguage,o=k.get(t);if(o){if(r=="en")return o.en;if(r=="ru")return o.ru}return t}p("auth/invalid-email","Invalid email","Некорректный адрес электронной почты");p("auth/email-already-in-use","Email address is already in use by another user","Адрес электронной почты уже используется другим пользователем");p("auth/wrong-password","Wrong password","Неправильный пароль");p("auth/user-not-found","User not found","Пользователь не найден");p("auth/network-request-failed","Network request failed, possibly no Internet connection ","Запрос к сети не удался, возможно нет подключения к Интернету ");p("Failed to fetch","Failed to fetch","Не удалось получить данные ");function pe(){const{t}=d(),r=j(),o=_(),[i,n]=w(o),s=async()=>{l()&&M(o,c.values.email,c.values.password).then(a=>{h.show({title:t("userLogin"),message:f()+" - "+a.user.email,autoClose:!0,color:"green"})}).catch(a=>{h.show({title:t("errorFirebaseAuth"),message:f()+" - "+L(a.code),autoClose:2e4,color:"red"})})},l=()=>Object.keys(c.errors).length===0,x=()=>{h.clean(),l()&&O(o,c.values.email,c.values.password).then(a=>{h.show({title:t("userCreate"),message:f()+" - "+a.user.email,autoClose:!0,color:"green"})}).catch(a=>{h.show({title:t("errorFirebaseAuth"),message:f()+" - "+L(a.code),autoClose:2e4,color:"red"})})};g.useEffect(()=>{i&&!n&&r("/main",{replace:!0})});const c=B({validateInputOnChange:!0,initialValues:{email:"",password:""},validate:{password:a=>/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{7,19}$/.test(a)?null:t("errorInvalidPassword"),email:a=>/^\S+@\S+$/.test(a)?null:t("errorInvalidEmail")}});return i&&n?e.jsx(S,{children:t("checkAuth")}):e.jsx("div",{className:"sign_in_up",children:e.jsx(y,{className:"sign_in_up_inputs",children:e.jsxs("form",{onSubmit:c.onSubmit(()=>{}),children:[e.jsxs(F,{direction:"column",children:[e.jsx(H,{label:t("labelEmail"),placeholder:""+t("labelEmail"),...c.getInputProps("email")}),e.jsx(G,{label:t("labelPassword"),placeholder:""+t("labelPassword"),...c.getInputProps("password")})]}),e.jsx(Q,{h:"md"}),e.jsxs(F,{gap:"md",justify:"center",children:[e.jsx(u,{className:"sign_in_up_button",type:"submit",onClick:s,children:t("labelSignIn")}),e.jsx(u,{className:"sign_in_up_button",type:"submit",onClick:x,variant:"outline",children:t("labelSignUp")})]})]})})})}const xe=[{path:"/",link:"Welcome",name:"Welcome page",element:e.jsx(ge,{})},{path:"/main",link:"Main",name:"Main page",element:e.jsx(he,{})},{path:"/auth",link:"SignIn/SignUp",name:"Sign page",element:e.jsx(pe,{})}];function fe(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page_layout",children:[e.jsx(re,{}),e.jsxs(D,{children:[xe.map(t=>g.createElement(N,{...t,key:J()})),e.jsx(N,{path:"*",element:e.jsx(te,{})})]}),e.jsx(oe,{})]})})}R.createRoot(document.getElementById("root")).render(e.jsxs(Z,{withGlobalStyles:!0,withNormalizeCSS:!0,children:[e.jsx(K,{position:"top-center"}),e.jsx(Y,{children:e.jsx(T,{children:e.jsx(fe,{})})})]}));export{f as c,L as e};
