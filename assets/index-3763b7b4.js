import{j as e,r as g,a as E}from"./react-d84e5e68.js";import{c as R}from"./react-dom-8b7ac5e7.js";import{H as T}from"./react-router-dom-c468db3a.js";import"./firebase-36553ef7.js";import{i as U,g as _,s as O,c as D}from"./@firebase-7dbc1d44.js";import{i as P}from"./i18next-81a9e9b1.js";import{i as M,u as m}from"./react-i18next-30f3ddb2.js";import{u as j,a as $,b as W,c as y}from"./react-router-1b3d7f17.js";import{B as u,S as q,C as k,a as S,A as z,n as h,b,L as G,u as V,F,T as B,P as Q,c as H,M as K,N as Y}from"./@mantine-db5b2ac1.js";import{u as w}from"./react-firebase-hooks-7c3c1dd0.js";import{v as Z}from"./uuid-cf522c50.js";import"./fast-deep-equal-4802929f.js";import"./scheduler-765c72db.js";import"./@remix-run-073e1ff6.js";import"./idb-81bdbf9b.js";import"./@babel-8f34527c.js";import"./clsx-de421188.js";import"./@emotion-b857b527.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./stylis-79144faa.js";import"./react-transition-group-5a3e3d43.js";import"./klona-192252da.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();U({apiKey:"AIzaSyB_5MCwcB7MJute_P3TZYHaMOH17CrmrIc"});const J=({children:t})=>e.jsx(e.Fragment,{children:t}),X={team:"Team",checkAuth:"Check auth...",mainTitle:"Main page",mainInfo:"Section - editor, variables, headers (for query), documentation, response",welcomeTitle:"Welcome to our GraphiQL!",welcomeInfo:"Developers, project, course",welcomeTeam:"Our team on React-2023-Q1 course",welcomeDevs:"Eduard Nebolsin,Yury Shpakouski,Farkhod Kodirov",goMain:"Go to Main page",goWelcome:"Go to Welcome page",labelSignIn:"Sigh In",labelSignUp:"Sign Up",labelSignOut:"Sigh Out",labelEmail:"Email",labelPassword:"Password",errorInvalidEmail:"Invalid email",errorInvalidPassword:"Invalid password, must be 8-20 symbols, at least one letter, one digit, one special character",pageNotFound:"Page not found",footerTitle:"Footer",footerGithub:"Eduard Nebolsin Yury Shpakouski Farkhod Kodirov",footerInfo:"Link to authors github, app year, course logo with link to the course",userCreate:"User create & login",userLogin:"User login",userLogout:"User logout",errorFirebaseAuth:"Firebase auth error",errorFetch:"Fetch error",titleDoc:"Documentation",titleQuery:"Query",titleResponse:"Response",titleVar:"Variables"},ee={team:"Команда",checkAuth:"Проверка авторизации...",mainTitle:"Главная страница",mainInfo:"Секции - редактор, переменные, заголовки (для запроса), документация, ответ",welcomeTitle:"Добро пожаловать в наш GraphiQL!",welcomeInfo:"Разработчики, проект, курс",welcomeTeam:"Наша команда на курсе React-2023-Q1",welcomeDevs:"Эдуард Небольсин,Юрий Шпаковский,Фарход Кодиров",goMain:"Перейти на Главную страницу",goWelcome:"Перейти на страницу приветствия",labelSignIn:"Вход",labelSignUp:"Регистрация",labelSignOut:"Выход",labelEmail:"Адрес электронной почты",labelPassword:"Пароль",errorInvalidEmail:"Некорректный адрес электронной почты",errorInvalidPassword:"Пароль должен состоять из 8-20 символов, влючать хотя бы одну букву, одну цифру, один спец.символ",pageNotFound:"Страница не найдена",footerTitle:"Контакты",footerGithub:"Eduard Nebolsin Yury Shpakouski Farkhod Kodirov",footerInfo:"Ссылки на репо авторов, год публикации приложения, лого курса со ссылкой на него",userCreate:"Пользователь зарегистрирован",userLogin:"Вход пользователя",userLogout:"Выход пользователя",errorFirebaseAuth:"Ошибка аутентификации Firebase",errorFetch:"Ошибка получения данных",titleDoc:"Документация",titleQuery:"Запрос",titleResponse:"Ответ",titleVar:"Переменные"};P.use(M).init({lng:"en",debug:!1,resources:{en:{translation:X},ru:{translation:ee}}});function te(){const{t}=m(),r=j(),o=()=>{r("/")};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"not_found",children:[e.jsx("h1",{children:t("pageNotFound")}),e.jsx(u,{onClick:o,children:t("goWelcome")})]})})}function f(){const t=new Date;return""+t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()}function se(){const[t,r]=g.useState("en"),{i18n:o}=m(),i=()=>{t=="en"?(r("ru"),o.changeLanguage("ru")):(r("en"),o.changeLanguage("en"))},s="#228be6";return e.jsx(e.Fragment,{children:e.jsx(q,{value:t,onChange:i,data:[{value:"en",label:e.jsx(k,{children:e.jsx(S,{sx:{color:t=="en"?s:""},children:"En"})})},{value:"ru",label:e.jsx(k,{children:e.jsx(S,{sx:{color:t=="ru"?s:""},children:"Рус"})})}]})})}const ne=""+new URL("logo-dcab8614.svg",import.meta.url).href;function re(){const{t}=m(),r=j(),o=$(),i=_(),[s,n]=w(i),l=()=>{r("/auth")},x=()=>{const d=s==null?void 0:s.email;i.signOut().then(()=>{h.show({title:t("userLogout"),message:f()+" - "+d,autoClose:!0,color:"green"}),r("/auth")})},c=()=>{r("/")},a=!s&&!n;return e.jsx(e.Fragment,{children:e.jsxs("header",{className:"header_app",children:[e.jsxs("h2",{children:[e.jsx("img",{className:"header_logo",src:ne,alt:"Project logo"}),"GraphiQL - ",t("team")," #6"]}),e.jsxs("div",{className:"header_buttons",children:[e.jsx(se,{}),a&&o.pathname!="/auth"&&e.jsxs(u,{onClick:l,className:"header_sign_button",children:[t("labelSignIn")," / ",t("labelSignUp")]}),a&&o.pathname=="/auth"&&e.jsx(u,{onClick:c,className:"header_sign_button",children:t("goWelcome")}),s&&!n&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header_user",children:[e.jsx(z,{radius:"xl"}),e.jsx("div",{children:s.email})]}),e.jsx(u,{onClick:x,className:"header_sign_button",children:t("labelSignOut")})]})]})]})})}function oe(){return e.jsx(e.Fragment,{children:e.jsxs("footer",{className:"footer_app",children:[e.jsxs("div",{className:"footer_githubs",children:[e.jsx("img",{src:"./github.svg"})," ",e.jsx("a",{href:"https://github.com/edumgtk2020",children:"edumgtk2020"})," |"," ",e.jsx("a",{href:"https://github.com/Clukva",children:"Clukva"})," |"," ",e.jsx("a",{href:"https://github.com/fkodirov",children:"fkodirov"})]}),e.jsx("p",{className:"footer_year",children:"2023"}),e.jsx("a",{href:"https://rs.school/react/",className:"footer_logo",children:e.jsx("img",{src:"./rs-school.svg",alt:"RS School",height:28})})]})})}function ae(){const{t}=m();return e.jsxs(e.Fragment,{children:[e.jsx("textarea",{className:"textarea_query "}),e.jsx(b,{defaultValue:"customization",transitionDuration:500,children:e.jsxs(b.Item,{value:"customization",children:[e.jsx(b.Control,{children:e.jsx("b",{children:t("titleVar")})}),e.jsx(b.Panel,{children:e.jsx("textarea",{className:"textarea"})})]})})]})}const N=({children:t})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"loader",children:[e.jsx(G,{size:"xl",variant:"dots"}),t&&e.jsx("h4",{children:t})]})}),ie="modulepreload",le=function(t,r){return new URL(t,r).href},I={},C=function(r,o,i){if(!o||o.length===0)return r();const s=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=le(n,i),n in I)return;I[n]=!0;const l=n.endsWith(".css"),x=l?'[rel="stylesheet"]':"";if(!!i)for(let d=s.length-1;d>=0;d--){const v=s[d];if(v.href===n&&(!l||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${x}`))return;const a=document.createElement("link");if(a.rel=l?"stylesheet":ie,l||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),l)return new Promise((d,v)=>{a.addEventListener("load",d),a.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>r())};const ce=E.lazy(()=>C(()=>import("./DocumentationPanel-c37ba789.js"),["./DocumentationPanel-c37ba789.js","./react-d84e5e68.js","./fast-deep-equal-4802929f.js","./react18-json-view-23fa606a.js","./react18-json-view-af63fc84.css","./rickAndMorty-9fbbdd97.js","./react-i18next-30f3ddb2.js","./@babel-8f34527c.js","./@mantine-db5b2ac1.js","./react-dom-8b7ac5e7.js","./scheduler-765c72db.js","./clsx-de421188.js","./@emotion-b857b527.js","./hoist-non-react-statics-23d96a9a.js","./react-is-e8e5dbb3.js","./stylis-79144faa.js","./react-transition-group-5a3e3d43.js","./klona-192252da.js","./react-router-dom-c468db3a.js","./react-router-1b3d7f17.js","./@remix-run-073e1ff6.js","./firebase-36553ef7.js","./@firebase-7dbc1d44.js","./idb-81bdbf9b.js","./i18next-81a9e9b1.js","./react-firebase-hooks-7c3c1dd0.js","./uuid-cf522c50.js"],import.meta.url));function ue(){return e.jsx(e.Fragment,{children:e.jsx(g.Suspense,{fallback:e.jsx(N,{children:"Docs loading..."}),children:e.jsx(ce,{})})})}const de=E.lazy(()=>C(()=>import("./ResponsePanel-52615013.js"),["./ResponsePanel-52615013.js","./react-d84e5e68.js","./fast-deep-equal-4802929f.js","./react18-json-view-23fa606a.js","./react18-json-view-af63fc84.css","./rickAndMorty-9fbbdd97.js"],import.meta.url));function me(t){return e.jsx(e.Fragment,{children:e.jsx(g.Suspense,{fallback:e.jsx(N,{children:"Loading..."}),children:e.jsx(de,{query:t.query})})})}function he(){const{t}=m(),r=j(),o=_(),[i,s]=w(o),n="{}";return g.useEffect(()=>{!i&&!s&&r("/",{replace:!0})}),s?e.jsx(N,{children:t("checkAuth")}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"main",children:[e.jsxs("div",{className:"main_docs",children:[e.jsx("div",{className:"main_header",children:e.jsx("div",{className:"main_title",children:t("titleDoc")})}),e.jsx(ue,{})]}),e.jsxs("div",{className:"main_request",children:[e.jsx("div",{className:"main_query",children:e.jsxs("div",{className:"main_header",children:[e.jsx("div",{className:"main_title",children:t("titleQuery")}),e.jsx(u,{children:"Run"})]})}),e.jsx(ae,{})]}),e.jsxs("div",{className:"main_response",children:[e.jsx("div",{className:"main_header",children:e.jsx("div",{className:"main_title",children:t("titleResponse")})}),e.jsx(me,{query:n})]})]})})}function ge(){const{t}=m(),r=j(),o=_(),[i,s]=w(o),n=()=>{r("/main")};return e.jsx(e.Fragment,{children:e.jsxs("section",{className:"welcome",children:[e.jsx("h1",{children:t("welcomeTitle")}),e.jsx("h2",{children:t("welcomeTeam")}),e.jsxs("div",{className:"welcome_devs",children:[e.jsxs("div",{className:"dev",children:[e.jsx("img",{src:"./dev2.png",alt:"developer",height:100}),e.jsx("p",{children:t("welcomeDevs").split(",")[0]})]}),e.jsxs("div",{className:"dev",children:[e.jsx("img",{src:"./dev2.png",alt:"developer",height:100}),e.jsx("p",{children:t("welcomeDevs").split(",")[1]})]}),e.jsxs("div",{className:"dev",children:[e.jsx("img",{src:"./dev2.png",alt:"developer",height:100}),e.jsx("p",{children:t("welcomeDevs").split(",")[2]})]})]}),i&&!s&&e.jsx(u,{onClick:n,children:t("goMain")})]})})}const A=new Map;function p(t,r,o){A.set(t,{en:r,ru:o})}function L(t){const r=P.resolvedLanguage,o=A.get(t);if(o){if(r=="en")return o.en;if(r=="ru")return o.ru}return t}p("auth/invalid-email","Invalid email","Некорректный адрес электронной почты");p("auth/email-already-in-use","Email address is already in use by another user","Адрес электронной почты уже используется другим пользователем");p("auth/wrong-password","Wrong password","Неправильный пароль");p("auth/user-not-found","User not found","Пользователь не найден");p("auth/network-request-failed","Network request failed, possibly no Internet connection ","Запрос к сети не удался, возможно нет подключения к Интернету ");p("Failed to fetch","Failed to fetch","Не удалось получить данные ");function pe(){const{t}=m(),r=j(),o=_(),[i,s]=w(o),n=async()=>{l()&&O(o,c.values.email,c.values.password).then(a=>{h.show({title:t("userLogin"),message:f()+" - "+a.user.email,autoClose:!0,color:"green"})}).catch(a=>{h.show({title:t("errorFirebaseAuth"),message:f()+" - "+L(a.code),autoClose:2e4,color:"red"})})},l=()=>Object.keys(c.errors).length===0,x=()=>{h.clean(),l()&&D(o,c.values.email,c.values.password).then(a=>{h.show({title:t("userCreate"),message:f()+" - "+a.user.email,autoClose:!0,color:"green"})}).catch(a=>{h.show({title:t("errorFirebaseAuth"),message:f()+" - "+L(a.code),autoClose:2e4,color:"red"})})};g.useEffect(()=>{i&&!s&&r("/main",{replace:!0})});const c=V({validateInputOnChange:!0,initialValues:{email:"",password:""},validate:{password:a=>/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+])[A-Za-z\d][A-Za-z\d!@#$%^&*()_+]{7,19}$/.test(a)?null:t("errorInvalidPassword"),email:a=>/^\S+@\S+$/.test(a)?null:t("errorInvalidEmail")}});return i&&s?e.jsx(N,{children:t("checkAuth")}):e.jsx("div",{className:"sign_in_up",children:e.jsx(S,{className:"sign_in_up_inputs",children:e.jsxs("form",{onSubmit:c.onSubmit(()=>{}),children:[e.jsxs(F,{direction:"column",children:[e.jsx(B,{label:t("labelEmail"),placeholder:""+t("labelEmail"),...c.getInputProps("email")}),e.jsx(Q,{label:t("labelPassword"),placeholder:""+t("labelPassword"),...c.getInputProps("password")})]}),e.jsx(H,{h:"md"}),e.jsxs(F,{gap:"md",justify:"center",children:[e.jsx(u,{className:"sign_in_up_button",type:"submit",onClick:n,children:t("labelSignIn")}),e.jsx(u,{className:"sign_in_up_button",type:"submit",onClick:x,variant:"outline",children:t("labelSignUp")})]})]})})})}const xe=[{path:"/",link:"Welcome",name:"Welcome page",element:e.jsx(ge,{})},{path:"/main",link:"Main",name:"Main page",element:e.jsx(he,{})},{path:"/auth",link:"SignIn/SignUp",name:"Sign page",element:e.jsx(pe,{})}];function fe(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page_layout",children:[e.jsx(re,{}),e.jsxs(W,{children:[xe.map(t=>g.createElement(y,{...t,key:Z()})),e.jsx(y,{path:"*",element:e.jsx(te,{})})]}),e.jsx(oe,{})]})})}R.createRoot(document.getElementById("root")).render(e.jsxs(K,{withGlobalStyles:!0,withNormalizeCSS:!0,children:[e.jsx(Y,{position:"top-center"}),e.jsx(J,{children:e.jsx(T,{children:e.jsx(fe,{})})})]}));export{f as c,L as e};
